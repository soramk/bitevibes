# **BITE VIBES (BV) 進化要件定義書 \- Antigravity Phase**

## **1\. プロジェクト概要**

「BITE VIBES」を単なるローカルツールから、クラウド連携とAIを駆使した「食事の意思決定プラットフォーム」へと進化させる。

## **2\. 追加機能要件 (Functional Requirements)**

### **2.1 クラウド・ストレージ機能（データの永続化）**

* **お気に入りメニューの保存**: ユーザーがカスタマイズしたメニューリストをクラウドに保存し、ブラウザを閉じても次回起動時に復元できるようにする。  
* **履歴管理**: 過去に「Vibes」で決定した食事の内容を履歴として保存。  
* **プリセット切り替え**: 「平日のランチ」「休日のディナー」「深夜の背徳メシ」など、シーンに合わせた複数のルーレットセットを保存・切り替え。

### **2.2 ソーシャル・共有機能**

* **グループ・バイブス（リアルタイム同期）**: 複数人で同じルーレットを共有。一人が回すと全員の画面でルーレットが回り、結果が同期される機能（ランチ難民のグループ解決）。  
* **共有リンク生成**: 自分が作成した「最強のメニューリスト」をURLで他人に共有できる機能。

### **2.3 AI バイブス連携（インテリジェンス）**

* **AI メニューサジェスト**: Gemini APIを活用し、現在の時間・天気・季節に基づいた「おすすめの1品」をルーレットに自動追加。  
* **画像からのメニュー登録**: 食べたい料理の写真をアップロードすると、AIが解析してメニュー名として登録。

### **2.4 インタラクション・演出の強化**

* **バイブス・サウンド・リアクティブ**: 決定した瞬間の演出をさらに強化。スマートフォンのバイブレーション（Vibration API）との連動。  
* **物理エンジン導入**: ルーレットの挙動に摩擦や重力（Antigravity）の概念をより強く反映した滑らかなアニメーション。

## **3\. 非機能要件 (Non-Functional Requirements)**

### **3.1 データ構造とセキュリティ**

* **認証**: 匿名認証またはカスタムトークンによるセキュアなアクセス。  
* **パス管理**: /artifacts/{appId}/public/data/ を使用した共有データの管理。

### **3.2 ユーザーインターフェース (UI)**

* **モバイルファースト**: 外出先での利用を想定し、片手で全ての操作が完結するレイアウト。  
* **超低遅延**: クラウド同期時の遅延を最小限に抑え、ルーレットの回転が止まる瞬間の興奮を損なわない設計。

## **4\. 技術スタック（予定）**

* **Frontend**: React / Tailwind CSS  
* **Backend/Storage**: Cloud Firestore (NoSQL)  
* **Intelligence**: Gemini 2.5 Flash  
* **Effects**: Canvas API / Web Audio API / confetti-js

## **5\. 今後のロードマップ**

1. **Step 1**: クラウド保存の実装（自分だけのメニューを保存）。  
2. **Step 2**: 共有機能の実装（URLで友達にリストを送る）。  
3. **Step 3**: リアルタイム同期の実装（みんなで回す）。  
4. **Step 4**: AI連携（気分に合わせたメニュー提案）。
